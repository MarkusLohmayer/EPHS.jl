<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>CompositeSystems · EPHS.jl</title><meta name="title" content="CompositeSystems · EPHS.jl"/><meta property="og:title" content="CompositeSystems · EPHS.jl"/><meta property="twitter:title" content="CompositeSystems · EPHS.jl"/><meta name="description" content="Documentation for EPHS.jl."/><meta property="og:description" content="Documentation for EPHS.jl."/><meta property="twitter:description" content="Documentation for EPHS.jl."/><meta property="og:url" content="https://MarkusLohmayer.github.io/EPHS.jl/stable/Reference/CompositeSystems/"/><meta property="twitter:url" content="https://MarkusLohmayer.github.io/EPHS.jl/stable/Reference/CompositeSystems/"/><link rel="canonical" href="https://MarkusLohmayer.github.io/EPHS.jl/stable/Reference/CompositeSystems/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="EPHS.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EPHS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Background/Overview/">Overview</a></li><li><a class="tocitem" href="../../Background/EnergyBased/">Energy-based modeling</a></li><li><a class="tocitem" href="../../Background/PortBased/">Port-based modeling</a></li><li><a class="tocitem" href="../../Background/Discussion/">Discussion</a></li><li><a class="tocitem" href="../../Background/Approach/">The approach behind EPHS.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Fundamentals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Fundamentals/Overview/">Overview</a></li><li><a class="tocitem" href="../../Fundamentals/Directories/">Directories</a></li><li><a class="tocitem" href="../../Fundamentals/Patterns/">Patterns</a></li><li><a class="tocitem" href="../../Fundamentals/Components/">Components</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Examples/Overview/">Overview</a></li><li><a class="tocitem" href="../../Examples/Oscillator/">Oscillator</a></li><li><a class="tocitem" href="../../Examples/Oscillator_constraint/">Constrained oscillator</a></li><li><a class="tocitem" href="../../Examples/CPD/">Cylinder-piston device</a></li><li><a class="tocitem" href="../../Examples/Motor/">DC shunt motor</a></li></ul></li><li><a class="tocitem" href="../../Vision/">Vision</a></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox" checked/><label class="tocitem" for="menuitem-6"><span class="docs-label">Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Overview/">Overview</a></li><li><a class="tocitem" href="../Directories/">Directories</a></li><li><a class="tocitem" href="../SymbolicExpressions/">SymbolicExpressions</a></li><li><a class="tocitem" href="../AbstractSystems/">AbstractSystems</a></li><li><a class="tocitem" href="../Patterns/">Patterns</a></li><li><a class="tocitem" href="../Components/">Components</a></li><li class="is-active"><a class="tocitem" href>CompositeSystems</a></li><li><a class="tocitem" href="../Simulations/">Simulations</a></li><li><a class="tocitem" href="../ComponentLibrary/">ComponentLibrary</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>CompositeSystems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>CompositeSystems</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MarkusLohmayer/EPHS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/main/docs/src/Reference/CompositeSystems.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CompositeSystems"><a class="docs-heading-anchor" href="#CompositeSystems">CompositeSystems</a><a id="CompositeSystems-1"></a><a class="docs-heading-anchor-permalink" href="#CompositeSystems" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems"><a class="docstring-binding" href="#EPHS.CompositeSystems"><code>EPHS.CompositeSystems</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>The <code>CompositeSystems</code> module defines <a href="#EPHS.CompositeSystems.CompositeSystem-Union{Tuple{CompositeSystem{Position}}, Tuple{Nothing}} where Nothing"><code>CompositeSystem</code></a>s and provides the means to assemble them into systems of differential(-algebraic) equations, see <a href="#EPHS.CompositeSystems.DAESystem"><code>DAESystem</code></a> and <a href="#EPHS.CompositeSystems.assemble-Tuple{CompositeSystem}"><code>assemble</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/CompositeSystems.jl#L1-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.CompositeSystem-Union{Tuple{CompositeSystem{Position}}, Tuple{Nothing}} where Nothing"><a class="docstring-binding" href="#EPHS.CompositeSystems.CompositeSystem-Union{Tuple{CompositeSystem{Position}}, Tuple{Nothing}} where Nothing"><code>EPHS.CompositeSystems.CompositeSystem</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">CompositeSystem{Nothing}(sys::CompositeSystem{Position})</code></pre><p>Reduce a <code>CompsiteSystem{Position}</code> to a <code>CompositeSystem{Nothing}</code> by forgetting the the positions of junctions and boxes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/CompositeSystems.jl#L62-L67">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.CompositeSystem-Union{Tuple{P}, Tuple{Dtry{Junction{P}}, Dtry{InnerBox{AbstractSystem, P}}}} where P&lt;:Union{Nothing, Position}"><a class="docstring-binding" href="#EPHS.CompositeSystems.CompositeSystem-Union{Tuple{P}, Tuple{Dtry{Junction{P}}, Dtry{InnerBox{AbstractSystem, P}}}} where P&lt;:Union{Nothing, Position}"><code>EPHS.CompositeSystems.CompositeSystem</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">CompositeSystem(junctions::Dtry{Junction{P}}, boxes::Dtry{InnerBox{AbstractSystem,P}}) where {P&lt;:Union{Nothing,Position}}</code></pre><p>A <code>CompositeSystem</code> is given by a <a href="../Patterns/#EPHS.Patterns.Pattern"><code>Pattern</code></a>, where each <a href="../Patterns/#EPHS.Patterns.InnerBox"><code>InnerBox</code></a> is filled by a system whose interface matches that of the box.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/CompositeSystems.jl#L47-L53">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.Connection"><a class="docstring-binding" href="#EPHS.CompositeSystems.Connection"><code>EPHS.CompositeSystems.Connection</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>Connection of an <code>InnerPort</code> to a <code>Junction</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/flat_system.jl#L2">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.DAEConstraint"><a class="docstring-binding" href="#EPHS.CompositeSystems.DAEConstraint"><code>EPHS.CompositeSystems.DAEConstraint</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DAEConstraint(cvar::CVar, residual::SymExpr)</code></pre><p>The <code>residual</code> is forced to be zero by the corresponding constraint variable <code>cvar</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/dae_system.jl#L19-L24">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.DAEStorage"><a class="docstring-binding" href="#EPHS.CompositeSystems.DAEStorage"><code>EPHS.CompositeSystems.DAEStorage</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DAEStorage(xvar::XVar, quantity::Quantity, flow::SymExpr, effort::SymExpr)</code></pre><p><strong>Fields</strong></p><ul><li><code>xvar</code>: state variable</li><li><code>quantity</code>: associated [<code>EPHS.AbstractSystems.Quantity</code>]</li><li><code>flow</code>: the time-derivative of the state variable</li><li><code>effort</code>: the differential of the exergy function w.r.t. the state variable</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/dae_system.jl#L2-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.DAESystem"><a class="docstring-binding" href="#EPHS.CompositeSystems.DAESystem"><code>EPHS.CompositeSystems.DAESystem</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DAESystem(storage::Vector{DAEStorage}, constraints::Vector{DAEConstraint})</code></pre><p>A <code>DAESystem</code> defines a system of differential(-algebraic) equations.</p><p><strong>Fields</strong></p><ul><li><code>storage</code>: differential part (evolution of state variables)</li><li><code>constraints</code>: algebraic part (residuals forced to be zero by constraint variables)</li></ul><p>See <a href="#EPHS.CompositeSystems.DAEStorage"><code>DAEStorage</code></a> and <a href="#EPHS.CompositeSystems.DAEConstraint"><code>DAEConstraint</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/dae_system.jl#L31-L41">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.FlatSystem"><a class="docstring-binding" href="#EPHS.CompositeSystems.FlatSystem"><code>EPHS.CompositeSystems.FlatSystem</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">FlatSystem(pattern::Pattern, connections::Dtry(Vector(Connection)))</code></pre><p>A flat system is a composite system without any hierarchical nesting of (sub-)systems. This struct also controls if each junction has only one provider of effort and state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/flat_system.jl#L12-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.assemble-Tuple{CompositeSystem}"><a class="docstring-binding" href="#EPHS.CompositeSystems.assemble-Tuple{CompositeSystem}"><code>EPHS.CompositeSystems.assemble</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">assemble(sys::CompositeSystem) -&gt; DAESystem</code></pre><p>Assemble the system of differential(-algebraic) equations corresponding to the given <code>CompositeSystem</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/assemble.jl#L2-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.CompositeSystems.update_parameters-Tuple{DAESystem, AbstractDtry{Float64}}"><a class="docstring-binding" href="#EPHS.CompositeSystems.update_parameters-Tuple{DAESystem, AbstractDtry{Float64}}"><code>EPHS.CompositeSystems.update_parameters</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">update_parameters(dae::DAESystem, ps::Dtry{Float64}) -&gt; DAESystem</code></pre><p>Update the parameters of the given <code>DAESystem</code> according to the directory of parameters <code>ps</code>. Parameters that are not contained in <code>ps</code> remain unchanged. Parameters in <code>ps</code> that are not present in the system are ignored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/dae_system.jl#L72-L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="EPHS.MoreBase.flatten-Union{Tuple{CompositeSystem{P}}, Tuple{P}} where P"><a class="docstring-binding" href="#EPHS.MoreBase.flatten-Union{Tuple{CompositeSystem{P}}, Tuple{P}} where P"><code>EPHS.MoreBase.flatten</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">MoreBase.flatten(sys::CompositeSystem{P}) -&gt;</code></pre><p>The function <code>flatten</code> creates a flat system from a nested composite system using recursion.</p><ul><li>nested subsystems are converted into non-hierarchical systems</li><li>connections, ports, and junctions are adjusted to assure consistency</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MarkusLohmayer/EPHS.jl/blob/00cd180bd5e486da92fc359002d28f04a92d7bdc/src/CompositeSystems/flatten.jl#L4-L9">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Components/">« Components</a><a class="docs-footer-nextpage" href="../Simulations/">Simulations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 8 January 2026 12:18">Thursday 8 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
